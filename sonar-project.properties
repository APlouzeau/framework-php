# SonarQube configuration for EyoPHP Framework
# Educational framework - some rules adapted for learning purposes

sonar.projectKey=eyophp-framework
sonar.projectName=EyoPHP Framework
sonar.projectVersion=2.0

# Source files
sonar.sources=class,controller,model,public,config,views,traits
sonar.tests=tests

# Exclusions (vendor, docs générés, cache, logs)
sonar.exclusions=vendor/**,database/**,docs/html/**,cache/**,logs/**,.phpdoc/**,tmp/**

# Language versions
sonar.php.version=8.4
sonar.javascript.version=ES2020

# Security: enable all security rules
sonar.security.sensitive=true

# Custom rules for educational framework - more relaxed for learning
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8

# Allow multiple returns in validation methods (educational purpose)
sonar.issue.ignore.multicriteria.e1.ruleKey=php:S1479
sonar.issue.ignore.multicriteria.e1.resourceKey=**/ClassValidator.php

# Allow require_once in views and simple framework (educational purpose)
sonar.issue.ignore.multicriteria.e2.ruleKey=php:S1131
sonar.issue.ignore.multicriteria.e2.resourceKey=views/**/*.php

# Allow echo/print in views (educational purpose)
sonar.issue.ignore.multicriteria.e3.ruleKey=php:S2041
sonar.issue.ignore.multicriteria.e3.resourceKey=views/**/*.php

# Allow deprecated methods for backward compatibility
sonar.issue.ignore.multicriteria.e4.ruleKey=php:S1133
sonar.issue.ignore.multicriteria.e4.resourceKey=**/ClassValidator.php

# Relax complexity rules for educational framework
sonar.issue.ignore.multicriteria.e5.ruleKey=php:S1541
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.php

# Allow global functions in simple framework
sonar.issue.ignore.multicriteria.e6.ruleKey=php:S1101
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*.php

# Allow simple error handling in educational code
sonar.issue.ignore.multicriteria.e7.ruleKey=php:S1172
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*.php

# Allow mixed HTML/PHP in views (template style)
sonar.issue.ignore.multicriteria.e8.ruleKey=php:S1808
sonar.issue.ignore.multicriteria.e8.resourceKey=views/**/*.php
sonar.issue.ignore.multicriteria.e1.ruleKey=php:S4502
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.php
sonar.issue.ignore.multicriteria.e2.ruleKey=php:S1481
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.php
# Ignore require_once complaints for view templates (controller and views folders)
sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/views/**
sonar.issue.ignore.block=e4
sonar.issue.ignore.block.e4.beginBlockRegexp=.*require_once.*views.*
sonar.issue.ignore.block.e4.endBlockRegexp=.*
